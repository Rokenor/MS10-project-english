(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))f(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&f(n)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function f(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{const d=document.querySelector("[data-menu-open]"),c=document.querySelector("[data-menu-close]"),s=document.querySelector("[data-menu]"),f=document.querySelectorAll(".mobile-nav-link"),e=document.querySelectorAll(".nav-link");let o=0,n=null;function h(){document.documentElement.classList.add("is-scrolling"),clearTimeout(window.__scrollSpyTimer),window.__scrollSpyTimer=setTimeout(()=>{document.documentElement.classList.remove("is-scrolling")},400)}function g(){s&&(s.classList.add("is-open"),document.body.classList.add("no-scroll"),d?.setAttribute("aria-expanded","true"))}function p(){s&&(s.classList.remove("is-open"),document.body.classList.remove("no-scroll"),d?.setAttribute("aria-expanded","false"))}if(d&&c&&s&&(d.addEventListener("click",g),c.addEventListener("click",p),f.forEach(t=>t.addEventListener("click",p))),e.forEach(t=>{t.addEventListener("click",a=>{const l=t.getAttribute("href");if(!l||!l.startsWith("#"))return;const r=l.slice(1);n=r,m(r),h(),o=Date.now()+1200})}),!e.length){console.warn("ScrollSpy: .nav-link not found");return}const y=[...e].map(t=>t.getAttribute("href")).filter(t=>t&&t.startsWith("#")).map(t=>t.slice(1)),i=y.map(t=>document.getElementById(t)).filter(Boolean);if(console.log("ScrollSpy ids:",y),console.log("ScrollSpy sections found:",i.map(t=>t.id)),!i.length){console.warn("ScrollSpy: No sections found. Add matching id's in your partials (about, lessons, teachers, reviews, contact).");return}function m(t){e.forEach(a=>{a.getAttribute("href")===`#${t}`?a.classList.add("current"):a.classList.remove("current")})}const u=document.querySelector(".header"),L=u?u.offsetHeight:0;function w(){u&&(window.scrollY>10?u.classList.add("is-scrolled"):u.classList.remove("is-scrolled"))}function S(){if(n){const r=document.getElementById(n);if(r)if(window.scrollY+L+2>=r.offsetTop)n=null;else return;else n=null}if(Date.now()<o)return;const t=window.scrollY+window.innerHeight/2;if(window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-10){m(i[i.length-1].id);return}let l=i[0].id;for(const r of i)r.offsetTop<=t&&(l=r.id);m(l)}window.addEventListener("scroll",()=>{S(),w()},{passive:!0})});
//# sourceMappingURL=index.js.map
