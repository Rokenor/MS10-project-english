(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{const d=document.querySelector("[data-menu-open]"),c=document.querySelector("[data-menu-close]"),s=document.querySelector("[data-menu]"),a=document.querySelectorAll(".mobile-nav-link"),e=document.querySelectorAll(".nav-link");let o=0,n=null;function h(){document.documentElement.classList.add("is-scrolling"),clearTimeout(window.__scrollSpyTimer),window.__scrollSpyTimer=setTimeout(()=>{document.documentElement.classList.remove("is-scrolling")},400)}function L(){s&&(s.classList.add("is-open"),document.body.classList.add("no-scroll"),d?.setAttribute("aria-expanded","true"))}function m(){s&&(s.classList.remove("is-open"),document.body.classList.remove("no-scroll"),d?.setAttribute("aria-expanded","false"))}if(d&&c&&s&&(d.addEventListener("click",L),c.addEventListener("click",m),a.forEach(t=>t.addEventListener("click",m))),e.forEach(t=>{t.addEventListener("click",u=>{const l=t.getAttribute("href");if(!l||!l.startsWith("#"))return;const r=l.slice(1);n=r,f(r),h(),o=Date.now()+1200})}),!e.length){console.warn("ScrollSpy: .nav-link not found");return}const p=[...e].map(t=>t.getAttribute("href")).filter(t=>t&&t.startsWith("#")).map(t=>t.slice(1)),i=p.map(t=>document.getElementById(t)).filter(Boolean);if(console.log("ScrollSpy ids:",p),console.log("ScrollSpy sections found:",i.map(t=>t.id)),!i.length){console.warn("ScrollSpy: No sections found. Add matching id's in your partials (about, lessons, teachers, reviews, contact).");return}function f(t){e.forEach(u=>{u.getAttribute("href")===`#${t}`?u.classList.add("current"):u.classList.remove("current")})}const y=document.querySelector(".header"),w=y?y.offsetHeight:0;function g(){if(n){const r=document.getElementById(n);if(r)if(window.scrollY+w+2>=r.offsetTop)n=null;else return;else n=null}if(Date.now()<o)return;const t=window.scrollY+window.innerHeight/2;if(window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-10){f(i[i.length-1].id);return}let l=i[0].id;for(const r of i)r.offsetTop<=t&&(l=r.id);f(l)}window.addEventListener("scroll",g,{passive:!0}),g()});
//# sourceMappingURL=index.js.map
